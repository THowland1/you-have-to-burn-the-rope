var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=e.parcelRequiref536;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var r=t[e];delete t[e];var n={id:e,exports:{}};return a[e]=n,r.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,a){t[e]=a},e.parcelRequiref536=r);var n=r("273U8"),o=r("90X6C"),s=r("bDwjg"),i=r("gq84b"),l=r("4WkZq"),c=r("jO1pA"),d=r("7fZ6g"),f=r("5s1un"),p=r("jnElw"),y=r("fgF6w"),u=r("1Tzi6"),g=r("9Br2W"),E=r("6n3Jv"),m=r("cyBds"),h=r("6ICCA"),M=r("dkt7o"),T=r("2V6IC"),w=r("7UxbC"),v=r("gTlO9"),A=r("c0CTk"),I=r("1AZ66");"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register(I.ASSET_URLS["./serviceworker.js"]).then((e=>console.log("Success: ",e.scope))).catch((e=>console.log("Failure: ",e)))})),document.getElementById("show-info").addEventListener("click",(()=>{document.getElementById("info").classList.remove("hidden")})),document.getElementById("hide-info").addEventListener("click",(()=>{document.getElementById("info").classList.add("hidden")})),document.getElementById("canvas").addEventListener("click",(()=>{g.phaseManager.startStartPhase()}));const R=new class{constructor(){this.img=new Image,this.img.src=I.ASSET_URLS["./sprites/bg.png"]}draw(){const e=c.offset.x,a=c.offset.y,t=s.FRAME_WIDTH,r=s.FRAME_HEIGHT,n=s.FRAME_WIDTH,o=s.FRAME_HEIGHT;this.img&&s.c.drawImage(this.img,e,a,t,r,0,0,n,o)}};!function e(){const a=(new Date).valueOf();if(w.timeManager.msPerFrame=a-w.timeManager.now,w.timeManager.now=a,l.DEBUG_DELAY?setTimeout((()=>{requestAnimationFrame(e)}),l.DEBUG_DELAY):requestAnimationFrame(e),s.c.clearRect(0,0,s.canvas.width,s.canvas.height),g.phaseManager.phase===g.PHASES.clicktostart)return s.c.fillStyle="white",s.c.textAlign="center",s.c.font="500 14px Inter",void s.c.fillText("Click to start",s.FRAME_WIDTH/2,s.FRAME_HEIGHT/2);v.audioManager.endCreditsMusic.currentTime<2?(R.draw(),g.phaseManager.showBackDoor&&g.phaseManager.drawBackDoor(),o.boss.update(),m.player.update(),M.rope.update(),i.chandelier.update(),f.explosions.update(),h.plumes.update(),n.axes.update(),u.lasers.update(),y.healthBar.update(),p.flames.forEach((e=>e.draw())),s.canvas.style.opacity=(2-v.audioManager.endCreditsMusic.currentTime)/2,A.buttonManager.setOpacity((2-v.audioManager.endCreditsMusic.currentTime)/2)):(s.canvas.style.opacity=1,A.buttonManager.hide()),m.player.left>=3456?g.phaseManager.startBossFightPhase():m.player.left>=192&&g.phaseManager.startTunnelPhase(),s.c.fillStyle="white",T.slides.forEach((e=>e.draw())),m.player.hasFlame&&m.player.intersects(M.rope.flammableBitOfRope)&&(m.player.hasFlame=!1,g.phaseManager.startRopeBurningPhase()),l.SHOW_PLATFORMS&&E.platforms.forEach((e=>e.draw())),l.SHOW_DEBUGMENU&&d.debugMenu.draw(),l.SHOW_GRIDLINES&&(s.c.fillStyle="white",Array.from(Array(l.COURSE_WIDTH/128)).forEach(((e,a)=>{s.c.fillRect(128*a-c.offset.x,0,1,s.FRAME_HEIGHT),s.c.fillText(""+4*a,128*a-c.offset.x,10)})),Array.from(Array(l.COURSE_HEIGHT/160)).forEach(((e,a)=>{s.c.fillRect(0,160*a-c.offset.y,s.FRAME_WIDTH,1),s.c.fillText(""+5*a,10,160*a-c.offset.y)}))),(m.player.localRight>400&&c.offset.x+s.FRAME_WIDTH<l.COURSE_WIDTH&&m.player.velocity.x>0||m.player.localLeft<200&&c.offset.x>0&&m.player.velocity.x<0)&&(c.offset.x+=m.player.velocity.x*w.timeManager.msPerFrame),(m.player.localTop<175&&c.offset.y>0&&m.player.velocity.y<0||m.player.localBottom>200&&c.offset.y+s.FRAME_HEIGHT<l.COURSE_HEIGHT&&m.player.velocity.y>0)&&(c.offset.y+=m.player.velocity.y*w.timeManager.msPerFrame)}();
//# sourceMappingURL=index.4b4b8eaa.js.map
